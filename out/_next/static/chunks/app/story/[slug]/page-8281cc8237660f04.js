(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[628],{415:(e,s,r)=>{Promise.resolve().then(r.t.bind(r,4839,23)),Promise.resolve().then(r.bind(r,9345)),Promise.resolve().then(r.bind(r,4612))},9053:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(7401).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},9345:(e,s,r)=>{"use strict";r.d(s,{default:()=>x});var t=r(5155),a=r(2115),n=r(7396),l=r(3312),c=r(853),i=r(767),o=r(6710),d=r(1567);function x(){let[e,s]=(0,a.useState)(!1),[r,x]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=()=>{x(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,t.jsx)("nav",{className:(0,d.cn)("fixed top-0 left-0 right-0 z-50 transition-all duration-300",r?"bg-background/80 backdrop-blur-md border-b border-border":"bg-transparent"),children:(0,t.jsxs)("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)(n.default,{href:"/",className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-purple-500 to-cyan-500 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white font-bold text-lg",children:"H"})}),(0,t.jsx)("span",{className:"text-xl font-bold text-foreground",children:"Hush"})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center space-x-8",children:[(0,t.jsx)(n.default,{href:"/explore",className:"text-foreground/80 hover:text-foreground transition-colors",children:"Stories"}),(0,t.jsx)(n.default,{href:"/disclaimer",className:"text-foreground/80 hover:text-foreground transition-colors",children:"Disclaimer"}),(0,t.jsx)(n.default,{href:"/developer",className:"text-foreground/80 hover:text-foreground transition-colors",children:"Developer"}),(0,t.jsx)(l.$,{variant:"ghost",size:"icon",className:"text-foreground/80 hover:text-foreground",children:(0,t.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>s(!e),className:"text-foreground",children:e?(0,t.jsx)(i.A,{className:"h-6 w-6"}):(0,t.jsx)(o.A,{className:"h-6 w-6"})})})]}),e&&(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-background/95 backdrop-blur-md border-t border-border",children:[(0,t.jsx)(n.default,{href:"/explore",className:"block px-3 py-2 text-foreground hover:text-foreground/80 transition-colors",onClick:()=>s(!1),children:"Stories"}),(0,t.jsx)(n.default,{href:"/disclaimer",className:"block px-3 py-2 text-foreground hover:text-foreground/80 transition-colors",onClick:()=>s(!1),children:"Disclaimer"}),(0,t.jsx)(n.default,{href:"/developer",className:"block px-3 py-2 text-foreground hover:text-foreground/80 transition-colors",onClick:()=>s(!1),children:"Developer"}),(0,t.jsxs)(l.$,{variant:"ghost",className:"w-full justify-start text-foreground",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Search"]})]})})]})})}},4612:(e,s,r)=>{"use strict";r.d(s,{default:()=>v});var t=r(5155),a=r(2115),n=r(3775),l=r(1567);function c(e){let{block:s,index:r}=e,[n,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=setTimeout(()=>c(!0),100);return()=>clearTimeout(e)},[]),(0,t.jsx)("div",{className:(0,l.cn)("story-block transition-all duration-500",n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"),children:(()=>{switch(s.type){case"heading":return(0,t.jsx)("h1",{className:"story-heading animate-fade-in",children:s.text});case"subheading":return(0,t.jsx)("h2",{className:"story-subheading animate-fade-in",children:s.text});case"paragraph":return(0,t.jsx)("p",{className:"story-text animate-fade-in",children:s.text});case"image":return(0,t.jsxs)("div",{className:"story-block animate-fade-in",children:[(0,t.jsx)("img",{src:s.src,alt:s.caption||"",className:"w-full max-w-4xl mx-auto rounded-lg shadow-lg",loading:"lazy"}),s.caption&&(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-2 italic",children:s.caption})]});case"video":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto",children:[(0,t.jsx)("iframe",{src:s.src,className:"w-full aspect-video rounded-lg shadow-lg",allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin",title:s.caption||"Video content"}),s.caption&&(0,t.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-2 italic",children:s.caption})]})});case"embed":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 bg-muted/50 rounded-lg border border-border",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"External Content"}),(0,t.jsx)("iframe",{src:s.url,className:"w-full aspect-video rounded-lg",sandbox:"allow-scripts allow-same-origin",title:"Embedded content"})]})});case"quote":return(0,t.jsx)("blockquote",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"border-l-4 border-primary pl-6 py-4 bg-muted/30 rounded-r-lg",children:[(0,t.jsxs)("p",{className:"text-xl italic text-foreground/90 leading-relaxed",children:['"',s.text,'"']}),s.author&&(0,t.jsxs)("footer",{className:"mt-4 text-sm text-muted-foreground",children:["— ",s.author]})]})});case"code":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"bg-muted rounded-lg p-4 border border-border",children:[s.language&&(0,t.jsx)("div",{className:"text-xs text-muted-foreground mb-2 uppercase tracking-wide",children:s.language}),(0,t.jsx)("pre",{className:"text-sm text-foreground overflow-x-auto",children:(0,t.jsx)("code",{children:s.code})})]})});case"mermaid":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 bg-muted/30 rounded-lg border border-border",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Diagram"}),(0,t.jsx)("div",{className:"mermaid-container",children:(0,t.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Loading diagram..."})})]})});case"reactflow":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 bg-muted/30 rounded-lg border border-border",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"Interactive Diagram"}),(0,t.jsx)("div",{className:"reactflow-container h-96",children:(0,t.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Loading interactive diagram..."})})]})});case"three-scene":return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("div",{className:"w-full max-w-4xl mx-auto p-4 bg-muted/30 rounded-lg border border-border",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-2",children:"3D Scene"}),(0,t.jsx)("div",{className:"three-scene-container h-96",children:(0,t.jsx)("div",{className:"text-center text-muted-foreground py-8",children:"Loading 3D scene..."})})]})});default:return(0,t.jsx)("div",{className:"story-block animate-fade-in",children:(0,t.jsxs)("p",{className:"text-muted-foreground italic",children:["Unknown block type: ",s.type]})})}})()})}var i=r(3312),o=r(7401);let d=(0,o.A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var x=r(9053);let m=(0,o.A)("focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),u=(0,o.A)("bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),h=(0,o.A)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]),f=(0,o.A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),g=(0,o.A)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p=(0,o.A)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);function v(e){let{story:s}=e,[r,o]=(0,a.useState)(0),[v,b]=(0,a.useState)(!1),[j,N]=(0,a.useState)(!1),[y,k]=(0,a.useState)({}),w=(0,a.useRef)(null);(0,a.useEffect)(()=>{(async()=>{let e=await (0,n.mk)(s.id);e&&(o(e.blockIndex),w.current&&(w.current.scrollTop=e.scroll))})()},[s.id]),(0,a.useEffect)(()=>{(async()=>{var e;await (0,n.xv)({storyId:s.id,blockIndex:r,scroll:(null===(e=w.current)||void 0===e?void 0:e.scrollTop)||0,timestamp:new Date().toISOString()})})()},[r,s.id]);let S=()=>{r>0&&o(r-1)},A=()=>{r<s.blocks.length-1&&o(r+1)},E=e=>{"ArrowLeft"===e.key?S():"ArrowRight"===e.key?A():"Escape"===e.key&&b(!1)};(0,a.useEffect)(()=>(document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)),[r]);let z=e=>{k(s=>({...s,[e]:(s[e]||0)+1}))},D=(r+1)/s.blocks.length*100;return(0,t.jsxs)("div",{className:(0,l.cn)("min-h-screen bg-background transition-all duration-300",v&&"focus-mode"),children:[(0,t.jsx)("div",{className:"fixed top-0 left-0 right-0 z-40 h-1 bg-muted",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-purple-500 to-cyan-500 transition-all duration-300",style:{width:"".concat(D,"%")}})}),(0,t.jsxs)("div",{ref:w,className:"container mx-auto px-4 py-8 max-w-4xl",children:[(0,t.jsxs)("div",{className:"mb-8 text-center",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-foreground mb-4",children:s.title}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-muted-foreground",children:[(0,t.jsxs)("span",{children:["by ",s.author]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:s.readingTime}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:s.categories.join(", ")})]})]}),(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(c,{block:s.blocks[r],index:r})}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,t.jsxs)(i.$,{variant:"outline",onClick:S,disabled:0===r,className:"flex items-center space-x-2",children:[(0,t.jsx)(d,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Previous"})]}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r+1," of ",s.blocks.length]})}),(0,t.jsxs)(i.$,{variant:"outline",onClick:A,disabled:r===s.blocks.length-1,className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"Next"}),(0,t.jsx)(x.A,{className:"h-4 w-4"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>{b(!v)},className:"flex items-center space-x-2",children:[(0,t.jsx)(m,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:v?"Exit Focus":"Focus Mode"})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>N(!j),className:(0,l.cn)("flex items-center space-x-2",j&&"text-yellow-500"),children:[(0,t.jsx)(u,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:j?"Bookmarked":"Bookmark"})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-center space-x-4 mb-8",children:[(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>z("❤️"),className:"flex items-center space-x-2",children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:y["❤️"]||0})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>z("\uD83D\uDC41️"),className:"flex items-center space-x-2",children:[(0,t.jsx)(f,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:y["\uD83D\uDC41️"]||0})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>z("\uD83D\uDE31"),className:"flex items-center space-x-2",children:[(0,t.jsx)(g,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:y["\uD83D\uDE31"]||0})]}),(0,t.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>z("\uD83D\uDCAD"),className:"flex items-center space-x-2",children:[(0,t.jsx)(p,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:y["\uD83D\uDCAD"]||0})]})]})]})]})}},3312:(e,s,r)=>{"use strict";r.d(s,{$:()=>o});var t=r(5155),a=r(2115),n=r(2317),l=r(1027),c=r(1567);let i=(0,l.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:r,variant:a,size:l,asChild:o=!1,...d}=e,x=o?n.DX:"button";return(0,t.jsx)(x,{className:(0,c.cn)(i({variant:a,size:l,className:r})),ref:s,...d})});o.displayName="Button"},3775:(e,s,r)=>{"use strict";r.d(s,{Ud:()=>l,mk:()=>n,rd:()=>c,xv:()=>a});let t={READING_PROGRESS:"hush:lastSeen",ONBOARDING:"hush:seenOnboarding"};async function a(e){try{localStorage.setItem(t.READING_PROGRESS,JSON.stringify(e))}catch(e){console.error("Error saving reading progress:",e)}}async function n(e){try{let s=localStorage.getItem(t.READING_PROGRESS);if(!s)return null;let r=JSON.parse(s);return r.storyId===e?r:null}catch(e){return console.error("Error loading reading progress:",e),null}}async function l(){try{let e=localStorage.getItem(t.ONBOARDING);return"true"===e}catch(e){return console.error("Error checking onboarding status:",e),!1}}async function c(){try{localStorage.setItem(t.ONBOARDING,"true")}catch(e){console.error("Error setting onboarding complete:",e)}}},1567:(e,s,r)=>{"use strict";r.d(s,{cn:()=>n});var t=r(3463),a=r(9795);function n(){for(var e=arguments.length,s=Array(e),r=0;r<e;r++)s[r]=arguments[r];return(0,a.QP)((0,t.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[259,441,517,358],()=>s(415)),_N_E=e.O()}]);